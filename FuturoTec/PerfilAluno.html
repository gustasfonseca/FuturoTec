<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meu Perfil - FuturoTEC</title>
    <link rel="stylesheet" href="css/perfil.css">
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://unpkg.com/feather-icons"></script>
</head>

<body>
    <div class="app">
        <header class="header">
            <div class="container">
                <div class="nav-wrapper">
                    <div class="logo">
                        <img src="img/FuturoTecInicial.jpeg" alt="FuturoTEC Logo" />
                    </div>
                    <nav class="nav-desktop student-nav">
                        <a href="InicialAluno.html" class="nav-link">Início</a>
                        <a href="InicialAluno.html#cursos" class="nav-link">Cursos</a>
                        <a href="VagasAluno.html" class="nav-link">Vagas</a>
                        <a href="minhasCandidaturas.html" class="nav-link">Candidaturas</a>
                    </nav>
                    <div class="nav-actions">
                        <a href="PerfilAluno.html" class="login-btn">Meu Perfil</a>
                    </div>
                </div>
            </div>
        </header>

        <main class="profile-page-container">
            <div class="profile-header">
                <h1>Seu Perfil</h1>
                <p>Aqui você pode ver e editar seus dados de cadastro.</p>
            </div>

            <div class="profile-grid">
                <aside class="profile-info">
                    <h3>Dados Pessoais</h3>
                    <p>Mantenha seus dados de contato sempre atualizados.</p>
                </aside>

                <section class="profile-form-card">
                    <div class="user-summary">
                        <div class="user-details">
                            <h2 id="user-name">Carregando...</h2>
                            <p class="email" id="user-email">Carregando...</p>
                        </div>
                    </div>
                    <hr>

                    <form id="profile-form">
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" disabled>
                        </div>

                        <div class="form-group">
                            <label for="nome-completo" class="required">Nome Completo</label>
                            <input type="text" id="nome-completo" required>
                        </div>

                        <div class="form-group">
                            <label for="celular" class="required">Número de telefone</label>
                            <input type="tel" id="celular" placeholder="(11) 90000-0000" required>
                        </div>

                        <div class="form-group">
                            <label for="nascimento" class="required">Data de nascimento</label>
                            <input type="date" id="nascimento" required>
                        </div>

                        <div class="form-group">
                            <label for="curso-aluno" class="required">Curso</label>
                            <input type="text" id="curso-aluno" disabled>
                        </div>

                        <!-- CAMPO LINKEDIN ADICIONADO AQUI -->
                        <div class="form-group">
                            <label for="linkedin-perfil">LinkedIn <span class="optional-label">(opcional)</span></label>
                            <input type="url" id="linkedin-perfil" name="linkedin" placeholder="https://linkedin.com/in/seu-perfil">
                            <small class="field-hint">Cole o link completo do seu perfil do LinkedIn</small>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="save-button">Salvar Alterações</button>
                        </div>
                    </form>
                </section>
            </div>

            <!-- SEÇÃO: PERFIL PROFISSIONAL COM LIMITE DE CARACTERES -->
            <div class="profile-grid">
                <aside class="profile-info">
                    <h3>Perfil Profissional</h3>
                    <p>Essas informações serão visíveis para as empresas quando você se candidatar a vagas.</p>
                    <p><strong>Limite: 150 caracteres por campo</strong></p>
                </aside>

                <section class="profile-form-card">
                    <form id="profile-profissional-form">
                        <div class="form-group">
                            <label for="resumo-habilidades">Resumo de Habilidades</label>
                            <textarea id="resumo-habilidades" name="resumo-habilidades" rows="4" 
                                      maxlength="150"
                                      placeholder="Descreva suas principais habilidades (máx. 150 caracteres)"></textarea>
                            <div class="char-counter">
                                <span id="habilidadesCount">0</span>/150 caracteres
                            </div>
                            <small>Ex: JavaScript, React, Python, Gestão de Projetos, Inglês intermediário, comunicação...</small>
                        </div>

                        <div class="form-group">
                            <label for="experiencias-profissionais">Experiências Profissionais</label>
                            <textarea id="experiencias-profissionais" name="experiencias-profissionais" rows="4" 
                                      maxlength="150"
                                      placeholder="Descreva suas experiências (máx. 150 caracteres)"></textarea>
                            <div class="char-counter">
                                <span id="experienciasCount">0</span>/150 caracteres
                            </div>
                            <small>Inclua empresa, cargo, período e atividades principais.</small>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="save-button">Salvar Perfil Profissional</button>
                        </div>
                    </form>
                </section>
            </div>

            <div class="danger-zone">
                <h3>Zona de Perigo</h3>
                <p>Use esta opção para sair da sua conta sem excluí-la permanentemente.</p>
                <button type="button" class="delete-account-btn" id="btn-deslogar">
                    <i data-feather="log-out"></i> Deslogar da Conta
                </button>
                <hr>
                <p>A exclusão da sua conta é irreversível e removerá todos os seus dados e candidaturas.</p>
                <button type="button" class="delete-account-btn" id="btn-excluir-conta">
                    <i data-feather="alert-triangle"></i> Excluir Minha Conta Permanentemente
                </button>
            </div>
        </main>
    </div>

    <footer class="footer">
        <div class="container footer-grid">
            <div class="footer-info">
                <h4>FuturoTEC</h4>
                <p>Projeto de Conclusão de Curso (TCC)</p>
                <p class="school">ETEC Albert Einstein</p>
                <p class="copyright">© 2025 FuturoTEC. Todos os direitos reservados.</p>
                <p class="authors">Desenvolvido por: Nátaly Lima, Gustavo Fonseca, Eduarda Marques, Amanda Silva, Gabrielly Mendes, Uillian Oliveira e Felipe Cardoso.</p>
            </div>
    
            <div class="footer-links">
                <h4>Links Úteis</h4>
                <ul>
                    <li><a href="#">Termos de Uso</a></li>
                    <li><a href="#">Política de Privacidade</a></li>
                    <li><a href="#">Sobre nós</a></li>
                    <li><a href="#">Contato</a></li>
                </ul>
            </div>
    
            <div class="footer-social">
                <h4>Conecte-se</h4>
                <div class="social-icons">
                    <a href="#"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6a2 2 0 0 0-2 2z"></path><path d="M14 2v6h6"></path><path d="M8 12h8"></path><path d="M8 16h8"></path></svg></a>
                    <a href="#"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a>
                    <a href="#"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    
    <script>
        // Contador de caracteres para o perfil profissional
        document.addEventListener('DOMContentLoaded', function() {
            // Inicializar ícones
            if (typeof feather !== 'undefined') {
                feather.replace();
            }

            // Configurar contadores de caracteres
            const habilidadesTextarea = document.getElementById('resumo-habilidades');
            const experienciasTextarea = document.getElementById('experiencias-profissionais');
            const habilidadesCounter = document.getElementById('habilidadesCount');
            const experienciasCounter = document.getElementById('experienciasCount');

            function updateCounter(textarea, counter) {
                const length = textarea.value.length;
                counter.textContent = length;
                
                // Adicionar classe de warning se estiver perto do limite
                if (length > 140) {
                    counter.parentElement.classList.add('warning');
                } else {
                    counter.parentElement.classList.remove('warning');
                }
            }

            // Event listeners para os contadores
            if (habilidadesTextarea && habilidadesCounter) {
                habilidadesTextarea.addEventListener('input', function() {
                    updateCounter(this, habilidadesCounter);
                });
                // Inicializar com valor atual se existir
                updateCounter(habilidadesTextarea, habilidadesCounter);
            }

            if (experienciasTextarea && experienciasCounter) {
                experienciasTextarea.addEventListener('input', function() {
                    updateCounter(this, experienciasCounter);
                });
                // Inicializar com valor atual se existir
                updateCounter(experienciasTextarea, experienciasCounter);
            }
        });
    </script>

    <script src="js/auth-candidato.js"></script>
</body>
</html>
